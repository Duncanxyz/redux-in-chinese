<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Redux 中文官网 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Redux 中文官网 Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-66122997-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Redux 中文官网" href="/opensearch.xml"><title data-react-helmet="true">Organizing State | Redux 中文官网</title><meta data-react-helmet="true" property="og:url" content="http://cn.redux.js.org/faq/organizing-state"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Organizing State | Redux 中文官网"><meta data-react-helmet="true" name="description" content="Table of Contents"><meta data-react-helmet="true" property="og:description" content="Table of Contents"><meta data-react-helmet="true" property="og:image" content="http://cn.redux.js.org/img/redux-logo-landscape.png"><meta data-react-helmet="true" name="twitter:image" content="http://cn.redux.js.org/img/redux-logo-landscape.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://cn.redux.js.org/faq/organizing-state"><link data-react-helmet="true" rel="alternate" href="http://cn.redux.js.org/faq/organizing-state" hreflang="en"><link data-react-helmet="true" rel="alternate" href="http://cn.redux.js.org/faq/organizing-state" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a0cae3ae.css">
<link rel="preload" href="/assets/js/runtime~main.9044bd3c.js" as="script">
<link rel="preload" href="/assets/js/main.983ddc03.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Redux 中文官网</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction/getting-started">入门</a><a class="navbar__item navbar__link" href="/tutorials/essentials/part-1-overview-concepts">教程</a><a class="navbar__item navbar__link" href="/api/api-reference">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/faq">常见问题</a><a class="navbar__item navbar__link" href="/style-guide/style-guide">最佳实践</a><a href="https://www.github.com/camsong/redux-in-chinese" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">源码</a><a href="https://github.com/camsong/redux-in-chinese/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">纠错</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Redux 中文官网</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/introduction/getting-started">入门</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials/essentials/part-1-overview-concepts">教程</a></li><li class="menu__list-item"><a class="menu__link" href="/api/api-reference">API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/faq">常见问题</a></li><li class="menu__list-item"><a class="menu__link" href="/style-guide/style-guide">最佳实践</a></li><li class="menu__list-item"><a href="https://www.github.com/camsong/redux-in-chinese" target="_blank" rel="noopener noreferrer" class="menu__link">源码</a></li><li class="menu__list-item"><a href="https://github.com/camsong/redux-in-chinese/issues" target="_blank" rel="noopener noreferrer" class="menu__link">纠错</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">简介</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/getting-started">入门 Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/installation">安装</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/core-concepts">核心概念</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/learning-resources">学习资源</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/ecosystem">生态</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/introduction/examples">示例</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">教程</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/index">教程目录</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Redux 循序渐进</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/essentials/part-1-overview-concepts">基础概念</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/essentials/part-2-app-structure">应用结构</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/essentials/part-3-data-flow">数据流基础</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/essentials/part-4-using-data">使用数据</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/essentials/part-5-async-logic">异步逻辑与数据请求</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/essentials/part-6-performance-normalization">性能与数据范式化</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Redux 深入浅出</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-1-overview">Redux 概览</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-2-concepts-data-flow">Redux 概念与数据流</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-3-state-actions-reducers">State, Actions, and Reducers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-4-store">Store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-5-ui-react">UI and React</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-6-async-logic">Async Logic and Data Fetching</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-7-standard-patterns">标准 Redux 模式</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/tutorials/fundamentals/part-8-modern-redux">Modern Redux with Redux Toolkit</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">技巧</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/recipe-index">技巧</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/configuring-your-store">配置 Store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/usage-with-typescript">Usage with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/migrating-to-redux">迁移到 Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/using-object-spread-operator">使用对象展开运算符</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/reducing-boilerplate">减少样板代码</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/server-rendering">服务端渲染</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/writing-tests">编写测试</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/computing-derived-data">计算衍生数据</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/implementing-undo-history">实现撤销重做</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/isolating-redux-sub-apps">子应用隔离</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/code-splitting">代码分割</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/troubleshooting">Troubleshooting</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">组织 Reducers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/structuring-reducers">组织 Reducer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/prerequisite-concepts">Reducer 必备概念</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/basic-reducer-structure">Reducer 和 State 的基本结构</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/splitting-reducer-logic">拆分 Reducer 逻辑</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/refactoring-reducer-example">重构 Reducer：基于函数分解（Functional Decomposition）和 Reducer 组合</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/using-combinereducers">`combineReducers` 用法</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/beyond-combinereducers">`combineReducers` 进阶</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/normalizing-state-shape">State 范式化</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/updating-normalized-data">管理范式化数据</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/reusing-reducer-logic">Reducer 逻辑复用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/immutable-update-patterns">Immutable 不可变更新模式</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/recipes/structuring-reducers/initializing-state">初始化 State</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">深入理解 Redux</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">像 Redux 一样思考</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/understanding/thinking-in-redux/motivation">动机</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/understanding/thinking-in-redux/three-principles">三大原则</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/understanding/thinking-in-redux/glossary">词汇表</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">历史与设计原则</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/understanding/history-and-design/prior-art">先前技术</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/understanding/history-and-design/middleware">Middleware 中间件</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">常见问题</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq">Redux FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/general">Redux FAQ: General</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/reducers">Redux FAQ: Reducers</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/faq/organizing-state">Redux FAQ: Organizing State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/store-setup">Redux FAQ: Store Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/actions">Redux FAQ: Actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/immutable-data">Redux FAQ: Immutable Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/code-structure">Redux FAQ: Code Structure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/performance">Redux FAQ: Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/design-decisions">Redux FAQ: Design Decisions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/react-redux">Redux FAQ: React Redux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/faq/miscellaneous">Redux FAQ: Miscellaneous</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">编码规范</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/style-guide/style-guide">Style Guide: Best Practices</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API 文档</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/api-reference">API Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/createstore">createStore</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/store">Store</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/combinereducers">combineReducers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/applymiddleware">applyMiddleware</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/bindactioncreators">bindActionCreators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api/compose">compose</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Redux Toolkit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/redux-toolkit/overview">Redux Toolkit: 概览</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Redux FAQ: Organizing State</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="table-of-contents"></a>Table of Contents<a class="hash-link" href="#table-of-contents" title="Direct link to heading">#</a></h2><ul><li><a href="#redux-faq-organizing-state">Redux FAQ: Organizing State</a><ul><li><a href="#table-of-contents">Table of Contents</a></li><li><a href="#organizing-state">Organizing State</a><ul><li><a href="#do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate">Do I have to put all my state into Redux? Should I ever use React&#x27;s <code>setState()</code>?</a><ul><li><a href="#further-information">Further information</a></li></ul></li><li><a href="#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state">Can I put functions, promises, or other non-serializable items in my store state?</a><ul><li><a href="#further-information-1">Further information</a></li></ul></li><li><a href="#how-do-i-organize-nested-or-duplicate-data-in-my-state">How do I organize nested or duplicate data in my state?</a><ul><li><a href="#further-information-2">Further information</a></li></ul></li><li><a href="#should-i-put-form-state-or-other-ui-state-in-my-store">Should I put form state or other UI state in my store?</a><ul><li><a href="#further-information-3">Further Information</a></li></ul></li></ul></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="organizing-state"></a>Organizing State<a class="hash-link" href="#organizing-state" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate"></a>Do I have to put all my state into Redux? Should I ever use React&#x27;s <code>setState()</code>?<a class="hash-link" href="#do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate" title="Direct link to heading">#</a></h3><p>There is no “right” answer for this. Some users prefer to keep every single piece of data in Redux, to maintain a fully serializable and controlled version of their application at all times. Others prefer to keep non-critical or UI state, such as “is this dropdown currently open”, inside a component&#x27;s internal state.</p><p><strong><em>Using local component state is fine</em></strong>. As a developer, it is <em>your</em> job to determine what kinds of state make up your application, and where each piece of state should live. Find a balance that works for you, and go with it.</p><p>Some common rules of thumb for determining what kind of data should be put into Redux:</p><ul><li>Do other parts of the application care about this data?</li><li>Do you need to be able to create further derived data based on this original data?</li><li>Is the same data being used to drive multiple components?</li><li>Is there value to you in being able to restore this state to a given point in time (ie, time travel debugging)?</li><li>Do you want to cache the data (ie, use what&#x27;s in state if it&#x27;s already there instead of re-requesting it)?</li><li>Do you want to keep this data consistent while hot-reloading UI components (which may lose their internal state when swapped)?</li></ul><p>There are a number of community packages that implement various approaches for storing per-component state in a Redux store instead, such as <a href="https://github.com/tomchentw/redux-component" target="_blank" rel="noopener noreferrer">redux-component</a>, <a href="https://github.com/threepointone/redux-react-local" target="_blank" rel="noopener noreferrer">redux-react-local</a>, and more. It&#x27;s also possible to apply Redux&#x27;s principles and concept of reducers to the task of updating local component state as well, along the lines of <code>this.setState( (previousState) =&gt; reducer(previousState, someAction))</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="further-information"></a>Further information<a class="hash-link" href="#further-information" title="Direct link to heading">#</a></h4><p><strong>Articles</strong></p><ul><li><a href="https://changelog.com/posts/when-and-when-not-to-reach-for-redux" target="_blank" rel="noopener noreferrer">When (and when not) to reach for Redux</a></li><li><a href="https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367" target="_blank" rel="noopener noreferrer">You Might Not Need Redux</a></li><li><a href="https://medium.com/@adamrackis/finding-state-s-place-with-react-and-redux-e9a586630172" target="_blank" rel="noopener noreferrer">Finding <code>state</code>&#x27;s place with React and Redux</a></li><li><a href="https://medium.com/@zackargyle/a-case-for-setstate-1f1c47cd3f73" target="_blank" rel="noopener noreferrer">A Case for setState</a></li><li><a href="https://medium.com/react-ecosystem/how-to-handle-state-in-react-6f2d3cd73a0c" target="_blank" rel="noopener noreferrer">How to handle state in React: the missing FAQ</a></li><li><a href="https://medium.freecodecamp.com/where-do-i-belong-a-guide-to-saving-react-component-data-in-state-store-static-and-this-c49b335e2a00" target="_blank" rel="noopener noreferrer">Where to Hold React Component Data: state, store, static, and this</a></li><li><a href="http://jamesknelson.com/5-types-react-application-state/" target="_blank" rel="noopener noreferrer">The 5 Types of React Application State</a></li><li><a href="https://hackernoon.com/shape-your-redux-store-like-your-database-98faa4754fd5" target="_blank" rel="noopener noreferrer">Shape Your Redux Store Like Your Database</a></li></ul><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reduxjs/redux/issues/159" target="_blank" rel="noopener noreferrer">#159: Investigate using Redux for pseudo-local component state</a></li><li><a href="https://github.com/reduxjs/redux/issues/1098" target="_blank" rel="noopener noreferrer">#1098: Using Redux in reusable React component</a></li><li><a href="https://github.com/reduxjs/redux/issues/1287" target="_blank" rel="noopener noreferrer">#1287: How to choose between Redux&#x27;s store and React&#x27;s state?</a></li><li><a href="https://github.com/reduxjs/redux/issues/1385" target="_blank" rel="noopener noreferrer">#1385: What are the disadvantages of storing all your state in a single immutable atom?</a></li><li><a href="https://twitter.com/dan_abramov/status/749710501916139520" target="_blank" rel="noopener noreferrer">Twitter: Should I keep something in React component state?</a></li><li><a href="https://twitter.com/dan_abramov/status/736310245945933824" target="_blank" rel="noopener noreferrer">Twitter: Using a reducer to update a component</a></li><li><a href="https://discuss.reactjs.org/t/redux-and-global-state-vs-local-state/4187" target="_blank" rel="noopener noreferrer">React Forums: Redux and global state vs local state</a></li><li><a href="https://www.reddit.com/r/reactjs/comments/4w04to/when_using_redux_should_all_asynchronous_actions/d63u4o8" target="_blank" rel="noopener noreferrer">Reddit: &quot;When should I put something into my Redux store?&quot;</a></li><li><a href="https://stackoverflow.com/questions/35664594/redux-why-is-state-all-in-one-place-even-state-that-isnt-global" target="_blank" rel="noopener noreferrer">Stack Overflow: Why is state all in one place, even state that isn&#x27;t global?</a></li><li><a href="https://stackoverflow.com/questions/35328056/react-redux-should-all-component-states-be-kept-in-redux-store" target="_blank" rel="noopener noreferrer">Stack Overflow: Should all component state be kept in Redux store?</a></li></ul><p><strong>Libraries</strong></p><ul><li><a href="https://github.com/markerikson/redux-ecosystem-links/blob/master/component-state.md" target="_blank" rel="noopener noreferrer">Redux Addons Catalog: Component State</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state"></a>Can I put functions, promises, or other non-serializable items in my store state?<a class="hash-link" href="#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state" title="Direct link to heading">#</a></h3><p>It is highly recommended that you only put plain serializable objects, arrays, and primitives into your store. It&#x27;s <em>technically</em> possible to insert non-serializable items into the store, but doing so can break the ability to persist and rehydrate the contents of a store, as well as interfere with time-travel debugging.</p><p>If you are okay with things like persistence and time-travel debugging potentially not working as intended, then you are totally welcome to put non-serializable items into your Redux store. Ultimately, it&#x27;s <em>your</em> application, and how you implement it is up to you. As with many other things about Redux, just be sure you understand what tradeoffs are involved.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="further-information-1"></a>Further information<a class="hash-link" href="#further-information-1" title="Direct link to heading">#</a></h4><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reduxjs/redux/issues/1248" target="_blank" rel="noopener noreferrer">#1248: Is it ok and possible to store a react component in a reducer?</a></li><li><a href="https://github.com/reduxjs/redux/issues/1279" target="_blank" rel="noopener noreferrer">#1279: Have any suggestions for where to put a Map Component in Flux?</a></li><li><a href="https://github.com/reduxjs/redux/issues/1390" target="_blank" rel="noopener noreferrer">#1390: Component Loading</a></li><li><a href="https://github.com/reduxjs/redux/issues/1407" target="_blank" rel="noopener noreferrer">#1407: Just sharing a great base class</a></li><li><a href="https://github.com/reduxjs/redux/issues/1793" target="_blank" rel="noopener noreferrer">#1793: React Elements in Redux State</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="how-do-i-organize-nested-or-duplicate-data-in-my-state"></a>How do I organize nested or duplicate data in my state?<a class="hash-link" href="#how-do-i-organize-nested-or-duplicate-data-in-my-state" title="Direct link to heading">#</a></h3><p>Data with IDs, nesting, or relationships should generally be stored in a “normalized” fashion: each object should be stored once, keyed by ID, and other objects that reference it should only store the ID rather than a copy of the entire object. It may help to think of parts of your store as a database, with individual “tables” per item type. Libraries such as <a href="https://github.com/paularmstrong/normalizr" target="_blank" rel="noopener noreferrer">normalizr</a> and <a href="https://github.com/tommikaikkonen/redux-orm" target="_blank" rel="noopener noreferrer">redux-orm</a> can provide help and abstractions in managing normalized data.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="further-information-2"></a>Further information<a class="hash-link" href="#further-information-2" title="Direct link to heading">#</a></h4><p><strong>Documentation</strong></p><ul><li><a href="/tutorials/fundamentals/part-6-async-logic">Redux Fundamentals: Async Logic and Data Flow</a></li><li><a href="/tutorials/fundamentals/part-7-standard-patterns">Redux Fundamentals: Standard Redux Patterns</a></li><li><a href="/introduction/examples#real-world">Examples: Real World example</a></li><li><a href="/recipes/structuring-reducers/prerequisite-concepts#normalizing-data">Recipes: Structuring Reducers - Prerequisite Concepts</a></li><li><a href="/recipes/structuring-reducers/normalizing-state-shape">Recipes: Structuring Reducers - Normalizing State Shape</a></li><li><a href="https://github.com/reduxjs/redux/tree/master/examples/tree-view" target="_blank" rel="noopener noreferrer">Examples: Tree View</a></li></ul><p><strong>Articles</strong></p><ul><li><a href="https://somebody32.github.io/high-performance-redux/" target="_blank" rel="noopener noreferrer">High-Performance Redux</a></li><li><a href="https://medium.com/@adamrackis/querying-a-redux-store-37db8c7f3b0f" target="_blank" rel="noopener noreferrer">Querying a Redux Store</a></li></ul><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reduxjs/redux/issues/316" target="_blank" rel="noopener noreferrer">#316: How to create nested reducers?</a></li><li><a href="https://github.com/reduxjs/redux/issues/815" target="_blank" rel="noopener noreferrer">#815: Working with Data Structures</a></li><li><a href="https://github.com/reduxjs/redux/issues/946" target="_blank" rel="noopener noreferrer">#946: Best way to update related state fields with split reducers?</a></li><li><a href="https://github.com/reduxjs/redux/issues/994" target="_blank" rel="noopener noreferrer">#994: How to cut the boilerplate when updating nested entities?</a></li><li><a href="https://github.com/reduxjs/redux/issues/1255" target="_blank" rel="noopener noreferrer">#1255: Normalizr usage with nested objects in React/Redux</a></li><li><a href="https://github.com/reduxjs/redux/pull/1269" target="_blank" rel="noopener noreferrer">#1269: Add tree view example</a></li><li><a href="https://github.com/reduxjs/redux/issues/1824#issuecomment-228585904" target="_blank" rel="noopener noreferrer">#1824: Normalising state and garbage collection</a></li><li><a href="https://twitter.com/dan_abramov/status/715507260244496384" target="_blank" rel="noopener noreferrer">Twitter: state shape should be normalized</a></li><li><a href="https://stackoverflow.com/questions/32798193/how-to-handle-tree-shaped-entities-in-redux-reducers" target="_blank" rel="noopener noreferrer">Stack Overflow: How to handle tree-shaped entities in Redux reducers?</a></li><li><a href="https://stackoverflow.com/questions/37264415/how-to-optimize-small-updates-to-props-of-nested-component-in-react-redux" target="_blank" rel="noopener noreferrer">Stack Overflow: How to optimize small updates to props of nested components in React + Redux?</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="should-i-put-form-state-or-other-ui-state-in-my-store"></a>Should I put form state or other UI state in my store?<a class="hash-link" href="#should-i-put-form-state-or-other-ui-state-in-my-store" title="Direct link to heading">#</a></h3><p>The <a href="#do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate">same rules of thumb for deciding what should go in the Redux store</a> apply for this question as well.</p><p><strong>Based on those rules of thumb, most form state doesn&#x27;t need to go into Redux</strong>, as it&#x27;s probably not being shared between components. However, that decision is always going to be specific to you and your application. You might choose to keep some form state in Redux because you are editing data that came from the store originally, or because you do need to see the work-in-progress values reflected in other components elsewhere in the application. On the other hand, it may be a lot simpler to keep the form state local to the component, and only dispatch an action to put the data in the store once the user is done with the form.</p><p>Based on this, in most cases you probably don&#x27;t need a Redux-based form management library either. We suggest trying these approaches, in this order:</p><ul><li>Even if the data is coming from the Redux store, start by writing your form logic by hand. It&#x27;s likely this is all you&#x27;ll need. (See <a href="https://goshakkk.name/on-forms-react/" target="_blank" rel="noopener noreferrer"><strong>Gosha Arinich&#x27;s posts on working with forms in React</strong></a> for some excellent guidance on this.)</li><li>If you decide that writing forms &quot;manually&quot; is too difficult, try a React-based form library like <a href="https://github.com/jaredpalmer/formik" target="_blank" rel="noopener noreferrer">Formik</a> or <a href="https://github.com/final-form/react-final-form" target="_blank" rel="noopener noreferrer">React-Final-Form</a>.</li><li>If you are absolutely sure you <em>must</em> use a Redux-based form library because the other approaches aren&#x27;t sufficient, then you may finally want to look at <a href="https://github.com/erikras/redux-form" target="_blank" rel="noopener noreferrer">Redux-Form</a> and <a href="https://github.com/davidkpiano/react-redux-form" target="_blank" rel="noopener noreferrer">React-Redux-Form</a>.</li></ul><p>If you are keeping form state in Redux, you should take some time to consider performance characteristics. Dispatching an action on every keystroke of a text input probably isn&#x27;t worthwhile, and you may want to look into <a href="https://blog.isquaredsoftware.com/2017/01/practical-redux-part-7-forms-editing-reducers/" target="_blank" rel="noopener noreferrer">ways to buffer keystrokes to keep changes local before dispatching</a>. As always, take some time to analyze the overall performance needs of your own application.</p><p>Other kinds of UI state follow these rules of thumb as well. The classic example is tracking an <code>isDropdownOpen</code> flag. In most situations, the rest of the app doesn&#x27;t care about this, so in most cases it should stay in component state. However, depending on your application, it may make sense to use Redux to <a href="https://blog.isquaredsoftware.com/2017/07/practical-redux-part-10-managing-modals/" target="_blank" rel="noopener noreferrer">manage dialogs and other popups</a>, tabs, expanding panels, and so on.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="further-information-3"></a>Further Information<a class="hash-link" href="#further-information-3" title="Direct link to heading">#</a></h4><p><strong>Articles</strong></p><ul><li><a href="https://goshakkk.name/on-forms-react/" target="_blank" rel="noopener noreferrer">Gosha Arinich: Writings on Forms in React</a></li><li><a href="https://blog.isquaredsoftware.com/2017/01/practical-redux-part-6-connected-lists-forms-and-performance/" target="_blank" rel="noopener noreferrer">Practical Redux, Part 6: Connected Lists and Forms</a></li><li><a href="https://blog.isquaredsoftware.com/2017/01/practical-redux-part-7-forms-editing-reducers/" target="_blank" rel="noopener noreferrer">Practical Redux, Part 7: Form Change Handling</a></li><li><a href="https://blog.isquaredsoftware.com/2017/07/practical-redux-part-10-managing-modals/" target="_blank" rel="noopener noreferrer">Practical Redux, Part 10: Managing Modals and Context Menus</a></li><li><a href="https://github.com/markerikson/react-redux-links/blob/master/redux-ui-management.md" target="_blank" rel="noopener noreferrer">React/Redux Links: Redux UI Management</a></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/faq/reducers"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Redux FAQ: Reducers</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/faq/store-setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Redux FAQ: Store Setup »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link">Table of Contents</a></li><li><a href="#organizing-state" class="table-of-contents__link">Organizing State</a><ul><li><a href="#do-i-have-to-put-all-my-state-into-redux-should-i-ever-use-reacts-setstate" class="table-of-contents__link">Do I have to put all my state into Redux? Should I ever use React&#39;s <code>setState()</code>?</a></li><li><a href="#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state" class="table-of-contents__link">Can I put functions, promises, or other non-serializable items in my store state?</a></li><li><a href="#how-do-i-organize-nested-or-duplicate-data-in-my-state" class="table-of-contents__link">How do I organize nested or duplicate data in my state?</a></li><li><a href="#should-i-put-form-state-or-other-ui-state-in-my-store" class="table-of-contents__link">Should I put form state or other UI state in my store?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started">入门</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/essentials/part-1-overview-concepts">教程</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">常见问题</a></li><li class="footer__item"><a class="footer__link-item" href="/api/api-reference">API 文档</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">社区</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/0ZcbPKXt5bZ6au5t" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reactiflux Discord</a></li><li class="footer__item"><a href="http://stackoverflow.com/questions/tagged/redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started#help-and-discussion">Feedback</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">更多</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/camsong/redux-in-chinese" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright © 2015–2022 Dan Abramov and Cam Song.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9044bd3c.js"></script>
<script src="/assets/js/main.983ddc03.js"></script>
</body>
</html>